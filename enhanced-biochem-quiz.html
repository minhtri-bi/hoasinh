<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz Sinh H√≥a - Enhanced</title>
<style>
:root {
  --bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --card-bg: #ffffff;
  --text: #2d3748;
  --text-secondary: #718096;
  --primary: #667eea;
  --primary-hover: #5a67d8;
  --success: #48bb78;
  --error: #f56565;
  --warning: #ed8936;
  --shadow: 0 10px 40px rgba(0,0,0,0.1);
  --shadow-lg: 0 20px 60px rgba(0,0,0,0.15);
  --border-radius: 16px;
  --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

body.dark {
  --bg: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
  --card-bg: #2d3748;
  --text: #e2e8f0;
  --text-secondary: #a0aec0;
  --primary: #805ad5;
  --primary-hover: #6b46c1;
  --shadow: 0 10px 40px rgba(0,0,0,0.3);
  --shadow-lg: 0 20px 60px rgba(0,0,0,0.4);
}

* { 
  box-sizing: border-box; 
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  padding: 20px;
  transition: var(--transition);
}

.container {
  max-width: 600px;
  margin: 0 auto;
  animation: fadeInUp 0.6s ease;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Header */
header {
  background: var(--card-bg);
  padding: 24px;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
  transition: var(--transition);
}

header:hover {
  box-shadow: var(--shadow-lg);
  transform: translateY(-2px);
}

header h2 {
  font-size: 28px;
  font-weight: 700;
  background: linear-gradient(135deg, var(--primary), var(--primary-hover));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.icon-btn {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  border: none;
  background: var(--primary);
  color: white;
  font-size: 24px;
  cursor: pointer;
  transition: var(--transition);
  display: flex;
  align-items: center;
  justify-content: center;
}

.icon-btn:hover {
  transform: scale(1.1) rotate(10deg);
  box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
}

.icon-btn:active {
  transform: scale(0.95);
}

/* Search */
.search-container {
  background: var(--card-bg);
  padding: 20px;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  margin-bottom: 24px;
  transition: var(--transition);
}

.search-container:focus-within {
  box-shadow: var(--shadow-lg);
  transform: translateY(-2px);
}

#search {
  width: 100%;
  padding: 14px 20px;
  font-size: 16px;
  border: 2px solid transparent;
  border-radius: 12px;
  background: rgba(102, 126, 234, 0.05);
  color: var(--text);
  transition: var(--transition);
  outline: none;
}

#search:focus {
  border-color: var(--primary);
  background: var(--card-bg);
  box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
}

#search::placeholder {
  color: var(--text-secondary);
}

#searchResults {
  max-height: 200px;
  overflow-y: auto;
  margin-top: 12px;
}

#searchResults div {
  padding: 12px 16px;
  margin: 8px 0;
  border-radius: 10px;
  cursor: pointer;
  transition: var(--transition);
  background: rgba(102, 126, 234, 0.05);
}

#searchResults div:hover {
  background: var(--primary);
  color: white;
  transform: translateX(8px);
}

/* Question Card */
.question-card {
  background: var(--card-bg);
  padding: 32px;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  margin-bottom: 24px;
  transition: var(--transition);
}

#question {
  font-size: 20px;
  line-height: 1.6;
  font-weight: 600;
  margin-bottom: 24px;
  min-height: 60px;
}

.options {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.options button {
  padding: 16px 20px;
  font-size: 16px;
  border: 2px solid rgba(102, 126, 234, 0.2);
  border-radius: 12px;
  background: var(--card-bg);
  color: var(--text);
  cursor: pointer;
  transition: var(--transition);
  text-align: left;
  position: relative;
  overflow: hidden;
}

.options button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  transition: left 0.5s;
}

.options button:hover::before {
  left: 100%;
}

.options button:hover {
  border-color: var(--primary);
  transform: translateX(8px);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
}

.options button:active {
  transform: translateX(8px) scale(0.98);
}

.options button:disabled {
  cursor: not-allowed;
  opacity: 0.7;
}

.options button.correct {
  background: var(--success) !important;
  color: white !important;
  border-color: var(--success) !important;
  animation: successPulse 0.6s ease;
}

.options button.wrong {
  background: var(--error) !important;
  color: white !important;
  border-color: var(--error) !important;
  animation: shake 0.5s ease;
}

@keyframes successPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-10px); }
  75% { transform: translateX(10px); }
}

/* Tip */
#tip {
  margin-top: 20px;
  padding: 16px 20px;
  border-radius: 12px;
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
  font-size: 15px;
  line-height: 1.6;
  border-left: 4px solid var(--primary);
  animation: slideIn 0.4s ease;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Progress */
.stats-container {
  background: var(--card-bg);
  padding: 24px;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  margin-bottom: 24px;
}

#progress {
  width: 100%;
  height: 12px;
  background: rgba(102, 126, 234, 0.1);
  border-radius: 20px;
  overflow: hidden;
  margin-bottom: 16px;
}

#progressBar {
  height: 100%;
  background: linear-gradient(90deg, var(--primary), var(--primary-hover));
  border-radius: 20px;
  transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

#progressBar::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

#score {
  display: flex;
  justify-content: space-around;
  font-size: 18px;
  font-weight: 600;
}

.score-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.score-label {
  font-size: 14px;
  color: var(--text-secondary);
  font-weight: 400;
}

.score-value {
  font-size: 24px;
  color: var(--primary);
}

/* Buttons */
.btn {
  width: 100%;
  padding: 16px 24px;
  font-size: 16px;
  font-weight: 600;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  transition: var(--transition);
  background: linear-gradient(135deg, var(--primary), var(--primary-hover));
  color: white;
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
}

.btn:active {
  transform: translateY(0);
}

.btn-secondary {
  background: var(--card-bg);
  color: var(--text);
  box-shadow: var(--shadow);
  margin-top: 16px;
}

.btn-secondary:hover {
  background: var(--primary);
  color: white;
}

/* Answered Block */
#answeredBlock {
  background: var(--card-bg);
  padding: 24px;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  margin-top: 24px;
}

#answeredList {
  list-style: none;
  max-height: 300px;
  overflow-y: auto;
  margin-top: 16px;
}

#answeredList li {
  padding: 12px 16px;
  margin: 8px 0;
  border-radius: 10px;
  background: rgba(102, 126, 234, 0.05);
  border-left: 4px solid var(--primary);
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateX(-10px); }
  to { opacity: 1; transform: translateX(0); }
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(102, 126, 234, 0.05);
  border-radius: 10px;
}

::-webkit-scrollbar-thumb {
  background: var(--primary);
  border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--primary-hover);
}

/* Completion */
.completion-message {
  text-align: center;
  padding: 40px 20px;
  font-size: 24px;
  font-weight: 600;
  animation: bounceIn 0.8s ease;
}

@keyframes bounceIn {
  0% { transform: scale(0); opacity: 0; }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); opacity: 1; }
}

/* Responsive */
@media (max-width: 640px) {
  header h2 { font-size: 22px; }
  #question { font-size: 18px; }
  .question-card { padding: 24px; }
}
</style>
</head>
<body>
<div class="container">
  <header>
    <h2>üß¨ Quiz Sinh H√≥a</h2>
    <button id="darkToggle" class="icon-btn">üåô</button>
  </header>

  <div class="search-container">
    <input type="search" id="search" placeholder="üîç T√¨m ki·∫øm c√¢u h·ªèi..." />
    <div id="searchResults"></div>
  </div>

  <div class="question-card">
    <div id="question"></div>
    <div class="options" id="options"></div>
    <div id="tip"></div>
  </div>

  <div class="stats-container">
    <div id="progress"><div id="progressBar"></div></div>
    <div id="score">
      <div class="score-item">
        <span class="score-label">ƒêi·ªÉm</span>
        <span class="score-value" id="scoreValue">0</span>
      </div>
      <div class="score-item">
        <span class="score-label">Streak</span>
        <span class="score-value" id="streakValue">0</span>
      </div>
      <div class="score-item">
        <span class="score-label">Ho√†n th√†nh</span>
        <span class="score-value" id="completionValue">0%</span>
      </div>
    </div>
  </div>

  <button id="next" class="btn">C√¢u ti·∫øp theo ‚Üí</button>

  <div id="answeredBlock">
    <button id="toggleAnswered" class="btn btn-secondary">üìã C√¢u ƒë√£ tr·∫£ l·ªùi</button>
    <ul id="answeredList" style="display:none;"></ul>
  </div>
</div>

<script>
const questions = [
  {q:"C√¢u n√†o sau ƒë√¢y l√† ƒë√∫ng v·ªÅ NADH v√† FADH2 l√† nh√¢n t·ªë trong ph·∫£n ·ª©ng redox?", options:["NADH v√† FADH2 l√† nh√¢n t·ªë ch√≠nh nh·∫≠n electron t·ª´ nhi√™n li·ªáu","Kh·ª≠ x·∫£y ra t·ª± do","M·ªôt ch·∫•t ƒë·∫∑c bi·ªát m·∫•t electron","Trong oxy h√≥a h·ª£p ch·∫•t m·∫•t electron","M·ªçi qu√° tr√¨nh oxy h√≥a ph·∫£i ƒëi k√®m v·ªõi m·ªôt qu√° tr√¨nh kh·ª≠"], answer:0, tip:"‚úÖ NADH/FADH2 l√† ch·∫•t mang electron ch√≠nh trong t·∫ø b√†o, ƒë∆∞a electron t·ª´ ph√¢n t·ª≠ nhi√™n li·ªáu ƒë·∫øn chu·ªói h√¥ h·∫•p."},
  {q:"C√¢u n√†o sau ƒë√¢y l√† ƒë√∫ng li√™n quan ƒë·∫øn s·ª± thay ƒë·ªïi nƒÉng l∆∞·ª£ng t·ª± do trong qu√° tr√¨nh oxy h√≥a?", options:["ŒîG l√† d∆∞∆°ng v·ªõi t·ªëc ƒë·ªô c·ªßa ph·∫£n ·ª©ng","ŒîG kh√¥ng cung c·∫•p th√¥ng tin v·ªÅ t·ªëc ƒë·ªô c·ªßa ph·∫£n ·ª©ng","T·∫•t c·∫£ c√°c c√¢u ƒë·ªÅu ƒë√∫ng","Kh√¥ng c√≥ c√¢u n√†o l√† ƒë√∫ng","Kh√¥ng c√≥ c√¢u n√†o l√† ƒë√∫ng"], answer:1, tip:"‚úÖ ŒîG ch·ªâ cho bi·∫øt kh·∫£ nƒÉng t·ª± ph√°t, kh√¥ng li√™n quan ƒë·∫øn t·ªëc ƒë·ªô ph·∫£n ·ª©ng."},
  {q:"Amino acid phosphoryl h√≥a n√†o ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ph√¢n bi·ªát v·∫≠t kh√¥ng x∆∞∆°ng s·ªëng theo c√°ch t∆∞∆°ng t·ª±?", options:["phosphoserine","phosphohistidine","phosphoaspartate","phosphotyrosine","phosphotyrosine"], answer:3, tip:"‚úÖ Phosphotyrosine th∆∞·ªùng li√™n quan ƒë·∫øn ƒëi·ªÅu h√≤a t√≠n hi·ªáu trong sinh v·∫≠t kh√¥ng x∆∞∆°ng s·ªëng."},
  {q:"C√¢u n√†o l√† sai ƒë·ªëi v·ªõi c√°c cofactor nicotinamide?", options:["D·∫°ng oxy h√≥a c√≥ ƒëi·ªán t√≠ch d∆∞∆°ng","D·∫°ng kh·ª≠ c√≥ h·ªá s·ªë h·∫•p thu l·ªõn ·ªü 340 nm","N·ªìng ƒë·ªô t·∫ø b√†o c·ªßa NAD+/NADH th∆∞·ªùng g·∫ßn 1 picomolar","C√°c ph·∫£n ·ª©ng oxy h√≥a-kh·ª≠ v·ªõi nicotinamides th∆∞·ªùng li√™n quan ƒë·∫øn chuy·ªÉn hydride","C√°c enzyme chuy·ªÉn giao hydride ƒë·∫∑c hi·ªáu v·ªÅ m·∫∑t kh√¥ng gian"], answer:2, tip:"‚úÖ N·ªìng ƒë·ªô NAD+/NADH trong t·∫ø b√†o ~1 mM, kh√¥ng ph·∫£i picomolar."},
  {q:"C√¢u n√†o v·ªÅ nƒÉng l∆∞·ª£ng t·ª± do Gibbs l√† sai?", options:["T·∫°i tr·∫°ng th√°i c√¢n b·∫±ng, ŒîG = 0","ŒîG¬∞ = -RT ln Keq","ŒîG¬∞ l√† h·∫±ng s·ªë ·ªü nhi·ªát ƒë·ªô cho tr∆∞·ªõc","ŒîG ph·ª• thu·ªôc v√†o n·ªìng ƒë·ªô ban ƒë·∫ßu","ŒîG¬∞ cho ph·∫£n ·ª©ng thu·∫≠n v√† ng∆∞·ª£c c√≥ d·∫•u tr√°i ng∆∞·ª£c"], answer:3, tip:"‚úÖ ŒîG¬∞ ch·ªâ ph·ª• thu·ªôc v√†o tr·∫°ng th√°i chu·∫©n, ŒîG th·ª±c t·∫ø m·ªõi ph·ª• thu·ªôc n·ªìng ƒë·ªô ban ƒë·∫ßu."},
  {q:"ŒîG¬∞ cho ph·∫£n ·ª©ng acetyl-CoA + H2O ‚Üí acetate + CoASH + H+ l√†?", options:["-34.1 kJ/mol","-32.2 kJ/mol","-30.3 kJ/mol","+41.6 kJ/mol","+34.1 kJ/mol"], answer:0, tip:"‚úÖ Ph·∫£n ·ª©ng th·ªßy ph√¢n acetyl-CoA r·∫•t thu·∫≠n l·ª£i, t·ªèa nƒÉng l∆∞·ª£ng ~ -34 kJ/mol."},
  {q:"ƒêi·ªÉm kh√°c bi·ªát trong c√°c ∆∞·ªõc chu·∫©n nhi·ªát ƒë·ªông h·ªçc c·ªßa sinh h√≥a so v·ªõi ƒë∆∞·ªùng quy ∆∞·ªõc ƒë·ªông?", options:["Nhi·ªát ƒë·ªô chu·∫©n l√† 25¬∞C","N·ªìng ƒë·ªô chu·∫©n c·ªßa [H+] l√† 10^{-7} M; pH = 7.0","Gi√° tr·ªã c·ªßa ŒîG¬∞ l√† h·∫±ng s·ªë","N·ªìng ƒë·ªô ban ƒë·∫ßu m·ªói th√†nh ph·∫ßn l√† 1.0 M","√Åp su·∫•t chu·∫©n l√† 1 atm"], answer:1, tip:"‚úÖ Sinh h√≥a s·ª≠ d·ª•ng pH 7 l√†m chu·∫©n, kh√°c v·ªõi h√≥a l√Ω th√¥ng th∆∞·ªùng."},
  {q:"Atom n√†o l√† carbon b·ªã oxy h√≥a nh·∫π nh·∫•t trong ƒë∆∞·ªùng ketohexose?", options:["C-1","C-2","C-3","C-5","C-6"], answer:4, tip:"‚úÖ C-6 l√† carbon cu·ªëi chu·ªói, √≠t b·ªã oxy h√≥a, C-1 aldehyde d·ªÖ b·ªã oxy h√≥a nh·∫•t."},
  {q:"V·ªõi ph·∫£n ·ª©ng A + B ‚Üí C + D, ŒîG¬∞ = -60 kJ/mol. Ph·∫£n ·ª©ng b·∫Øt ƒë·∫ßu v·ªõi 10 mM A, kh√¥ng c√≥ B. Sau 24 gi·ªù, 2 mM B, 8 mM A. C√¢u n√†o ƒë√∫ng?", options:["A v√† B ƒë·∫°t c√¢n b·∫±ng","ƒêang ti·∫øn v·ªÅ c√¢n b·∫±ng nh∆∞ng ch∆∞a ƒë·∫°t","Kh√¥ng th·ªÉ ƒë·∫°t c√¢n b·∫±ng","ŒîG th·ª±c t·∫ø d∆∞∆°ng","ŒîG th·ª±c t·∫ø √¢m"], answer:1, tip:"‚úÖ ŒîG < 0 n√™n ph·∫£n ·ª©ng t·ª± ph√°t nh∆∞ng ch∆∞a ƒë·∫°t c√¢n b·∫±ng."},
  {q:"Trong ph·∫£n ·ª©ng Glyceraldehyde-3-phosphate + Pi + NAD+ ‚Üí 1,3-bisphosphoglycerate + NADH + H+, ch·∫•t kh·ª≠ l√†?", options:["1,3-bisphosphoglycerate","NADH","H+","NADH","NAD+"], answer:0, tip:"‚úÖ Glyceraldehyde-3-phosphate b·ªã oxy h√≥a, truy·ªÅn electron cho NAD+ ‚Üí NADH. N√≥ l√† ch·∫•t kh·ª≠."},
  {q:"Trong glycolysis, glucose 1-phosphate ‚Üí fructose 6-phosphate trong hai ph·∫£n ·ª©ng li√™n ti·∫øp, ŒîG¬∞ t·ªïng l√†?", options:["-8.8 kJ/mol","-7.1 kJ/mol","-5.4 kJ/mol","+5.4 kJ/mol","+8.8 kJ/mol"], answer:0, tip:"‚úÖ Hai b∆∞·ªõc li√™n ti·∫øp c√≥ ŒîG¬∞ √¢m nh·∫π, ph·∫£n ·ª©ng thu·∫≠n m·ªôt c√°ch t·ª± ph√°t."},
  {q:"C√¢u n√†o l√† ƒë√∫ng v·ªÅ ph·∫£n ·ª©ng oxy h√≥a-kh·ª≠ sinh h√≥a?", options:["Chuy·ªÉn th∆∞·ªùng di·ªÖn ra th√¥ng qua s·ª± t√°ch r·ªùi ƒë·ªìng ph√¢n","Trong qu√° tr√¨nh oxy h√≥a, h·ª£p ch·∫•t nh·∫≠n electron","Dehydrogenases th∆∞·ªùng oxy h√≥a c√°c c·∫∑p carbon","M·ªçi qu√° tr√¨nh oxy h√≥a ph·∫£i ƒëi k√®m qu√° tr√¨nh kh·ª≠","T·∫•t c·∫£ ƒë·ªÅu ƒë√∫ng"], answer:3, tip:"‚úÖ Oxy h√≥a lu√¥n ƒëi k√®m v·ªõi kh·ª≠, dehydrogenases tham gia oxy h√≥a carbon."},
  {q:"Tr·∫°ng th√°i gi·∫£m nh·∫•t c·ªßa carbon l√†?", options:["Carbon trong nh√≥m alkyl","Carbon trong nh√≥m aldehyde","Carbon trong nh√≥m ketone","Carbon trong nh√≥m acid carboxylic","Carbon trong nh√≥m r∆∞·ª£u"], answer:0, tip:"‚úÖ Alkyl (CH3, CH2) l√† tr·∫°ng th√°i b·ªã kh·ª≠ nh·∫•t, √≠t oxy h√≥a."},
  {q:"ŒîG¬∞ cho ph·∫£n ·ª©ng 3-phosphoglycerate ‚Üí 2-phosphoglycerate l√†?", options:["+0.1 kJ/mol","+0.6 kJ/mol","-0.6 kJ/mol","-1.1 kJ/mol","-4.4 kJ/mol"], answer:2, tip:"‚úÖ Ph·∫£n ·ª©ng g·∫ßn c√¢n b·∫±ng, ŒîG¬∞ ~ -0.6 kJ/mol."},
  {q:"S·ª± th·ªßy ph√¢n ATP c√≥ ŒîG¬∞ = -30.5 kJ/mol nh∆∞ng v·∫´n ·ªïn ƒë·ªãnh trong dung d·ªãch v√¨?", options:["TƒÉng entropy","C·ªông h∆∞·ªüng","Ph√¢n c·ª±c","NƒÉng l∆∞·ª£ng k√≠ch ho·∫°t cao","Tautomer h√≥a"], answer:3, tip:"‚úÖ ATP ·ªïn ƒë·ªãnh do nƒÉng l∆∞·ª£ng k√≠ch ho·∫°t cao, ph·∫£n ·ª©ng c·∫ßn enzyme ƒë·ªÉ di·ªÖn ra."},
  {q:"D∆∞·ªõi ƒëi·ªÅu ki·ªán chu·∫©n, s·ª± oxy h√≥a FADH2 t·ª± do b·ªüi ubiquinone c√≥ ƒë·ªß nƒÉng l∆∞·ª£ng ƒë·ªÉ h√¨nh th√†nh ATP?", options:["Kh√¥ng, v√¨ -3.6 kJ/mol","Kh√¥ng, v√¨ 50.9 kJ/mol","Kh√¥ng, v√¨ -25.5 kJ/mol","C√≥, v√¨ 33.6 kJ/mol","C√≥, v√¨ 50.9 kJ/mol"], answer:4, tip:"‚úÖ ŒîG¬∞ t·ªèa ~50.9 kJ/mol, ƒë·ªß nƒÉng l∆∞·ª£ng ƒë·ªÉ t·ªïng h·ª£p ATP."},
  {q:"Nguy√™n t·ª≠ carbon n√†o ·ªü tr·∫°ng th√°i oxy h√≥a cao nh·∫•t?", options:["Alkyl","Ketone","Acid carboxylic","R∆∞·ª£u","Aldehyde"], answer:2, tip:"‚úÖ Carbon trong nh√≥m acid carboxylic c√≥ tr·∫°ng th√°i oxy h√≥a cao nh·∫•t."},
  {q:"ŒîG¬∞ cho s·ª± th·ªßy ph√¢n ATP tƒÉng g·∫•p ƒë√¥i n·ªìng ƒë·ªô ATP s·∫Ω t√°c ƒë·ªông g√¨?", options:["TƒÉng 1.7 kJ/mol","Gi·∫£m 1.7 kJ/mol","Kh√¥ng thay ƒë·ªïi","TƒÉng g·∫•p ƒë√¥i","Gi·∫£m m·ªôt n·ª≠a"], answer:0, tip:"‚úÖ ŒîG = ŒîG¬∞ + RT ln[ATP], tƒÉng n·ªìng ƒë·ªô ATP l√†m ŒîG tƒÉng ~1.7 kJ/mol."},
  {q:"Ph·∫£n ·ª©ng sinh h√≥a n√†o KH√îNG do ligase th·ª±c hi·ªán?", options:["Pyruvate carboxylase","Acetyl-CoA carboxylase","Succinyl-CoA synthetase","Glutamine synthetase","Aminoacyl-tRNA synthetase"], answer:0, tip:"‚úÖ Pyruvate carboxylase l√† carboxylase, kh√¥ng ph·∫£i ligase."},
  {q:"C·∫•u tr√∫c NAD+ KH√îNG g·ªìm?", options:["M·ªôt nucleotide flavin","Li√™n k·∫øt phosphoanhydride","Nucleotide adenine","Nicotinamide","Hai ƒë∆∞·ªùng ribose"], answer:0, tip:"‚úÖ NAD+ c√≥ adenine v√† nicotinamide, kh√¥ng c√≥ flavin."},
  {q:"Ph·∫£n ·ª©ng ATP ‚Üí ADP + Pi l√† v√≠ d·ª• c·ªßa?", options:["C·∫Øt ƒë·ª©t s·∫Øp x·∫øp n·ªôi b·ªô","G·ªëc t·ª± do","Chuy·ªÉn nh√≥m","Oxy h√≥a-kh·ª≠","ƒê·ªìng ph√¢n h√≥a"], answer:2, tip:"‚úÖ ƒê√¢y l√† ph·∫£n ·ª©ng chuy·ªÉn nh√≥m phosphate."},
  {q:"Ph·∫£n ·ª©ng oxy h√≥a-kh·ª≠ n√†o KH√îNG di·ªÖn ra d·ª±a tr√™n s·∫£n ph·∫©m v√† ch·∫•t ph·∫£n ·ª©ng?", options:["I v√† IV","I, IV v√† V","II","II v√† III","IV v√† V"], answer:1, tip:"‚úÖ D·ª±a tr√™n ŒîG v√† nƒÉng l∆∞·ª£ng ƒëi·ªán h√≥a, I, IV, V kh√¥ng thu·∫≠n."},
  {q:"ŒîG¬∞ cho glucose-6-phosphate ‚Üí glucose-1-phosphate, K'eq = 0.05 t·∫°i 298 K?", options:["7.3 kJ/mol","7.6 kJ/mol","-7.3 kJ/mol","-7.6 kJ/mol","-22.0 kJ/mol"], answer:0, tip:"‚úÖ ŒîG¬∞ = -RT ln K'eq ‚Üí d∆∞∆°ng 7.3 kJ/mol v√¨ K'eq < 1."},
  {q:"D∆∞·ªõi ƒëi·ªÅu ki·ªán chu·∫©n, s·ª± oxy h√≥a NADH b·ªüi FAD t·ª± do s·∫Ω?", options:["Kh√¥ng, ŒîE¬∞ = -0.219 V","Kh√¥ng, 9.7 kJ/mol","Kh√¥ng, 19.5 kJ/mol","Kh√¥ng, 104.2 kJ/mol","C√≥, 13 kJ/mol"], answer:0, tip:"‚úÖ ŒîE¬∞ < 0 n√™n ph·∫£n ·ª©ng kh√¥ng t·ª± ph√°t."},
  {q:"Ph√¢n t·ª≠ n√†o KH√îNG l√† ch·∫•t mang electron ph·ªï bi·∫øn?", options:["NAD","NADP","FMN","FAD","AMP"], answer:4, tip:"‚úÖ AMP kh√¥ng ph·∫£i ch·∫•t mang electron, c√°c ch·∫•t c√≤n l·∫°i l√† cofactors."},
  {q:"Nguy√™n t·ª≠ n√†o c√≥ ƒë·ªô √¢m ƒëi·ªán cao nh·∫•t?", options:["N","N","P","O","S"], answer:3, tip:"‚úÖ Oxy l√† nguy√™n t·ª≠ c√≥ ƒë·ªô √¢m ƒëi·ªán cao nh·∫•t trong c√°c l·ª±a ch·ªçn."},
  {q:"V·ªõi ph·∫£n ·ª©ng A + B ‚Üí C + D, K'eq = 10^4. B·∫Øt ƒë·∫ßu 1 mM A, 0 B, sau 24h, 2 mM B v√† 8 mM A, c√¢u n√†o ƒë√∫ng?", options:["A v√† B ƒë·∫°t c√¢n b·∫±ng","ƒêang ti·∫øn v·ªÅ c√¢n b·∫±ng nh∆∞ng ch∆∞a ƒë·∫°t","Kh√¥ng th·ªÉ ƒë·∫°t c√¢n b·∫±ng","ŒîG th·ª±c t·∫ø d∆∞∆°ng","ŒîG th·ª±c t·∫ø √¢m"], answer:1, tip:"‚úÖ K'eq l·ªõn nh∆∞ng ch∆∞a ƒë·∫°t c√¢n b·∫±ng, ŒîG < 0."},
  {q:"S·ª± th·ªßy ph√¢n acetyl phosphate ŒîG' ‚âà -42 kJ/mol, y·∫øu t·ªë ƒë√≥ng g√≥p l·ªõn nh·∫•t?", options:["H√∫t ƒëi·ªán","Ph√¢n c·ª±c","C·ªông h∆∞·ªüng","Tautomer h√≥a","Tautomer h√≥a"], answer:2, tip:"‚úÖ C·ªông h∆∞·ªüng c·ªßa s·∫£n ph·∫©m l√†m ·ªïn ƒë·ªãnh v√† t·ªèa nƒÉng l∆∞·ª£ng."},
  {q:"Nh√≥m n√†o KH√îNG ph·∫£i l√† ƒëi·ªán t·ª≠?", options:["Proton","Sulfhydryl","Imine ƒë√£ proton h√≥a","Carbonyl","Phosphoryl"], answer:0, tip:"‚úÖ Proton kh√¥ng ph·∫£i electron donor."},
  {q:"C√¢u n√†o ƒë√∫ng cho h·∫±ng s·ªë c√¢n b·∫±ng?", options:["Kh√¥ng ph·ª• thu·ªôc nhi·ªát ƒë·ªô","Khi K l·ªõn, ŒîG¬∞ √¢m","C√≥ th·ªÉ t√≠nh n·∫øu bi·∫øt n·ªìng ƒë·ªô t·∫°i c√¢n b·∫±ng","ŒîG th·ª±c t·∫ø ph·ª• thu·ªôc n·ªìng ƒë·ªô ban ƒë·∫ßu","Lu√¥n d∆∞∆°ng"], answer:2, tip:"‚úÖ K t·ª´ n·ªìng ƒë·ªô c√¢n b·∫±ng, ŒîG¬∞ li√™n quan ƒë·∫øn K."},
  {q:"H·∫±ng s·ªë c√¢n b·∫±ng ph√¢n ly acid lactic 1.38 √ó 10^{-4}, ŒîG' l√†?", options:["16.3 kJ/mol","-16.8 kJ/mol","19.9 kJ/mol","-22.0 kJ/mol","22.0 kJ/mol"], answer:1, tip:"‚úÖ ŒîG' = -RT ln Keq ‚âà -16.8 kJ/mol."},
  {q:"S·ª± th·ªßy ph√¢n phosphoenolpyruvate ŒîG' ‚âà -62 kJ/mol, y·∫øu t·ªë l·ªõn nh·∫•t?", options:["H√∫t ƒëi·ªán","Ph√¢n c·ª±c","C·ªông h∆∞·ªüng","Tautomer h√≥a","Tautomer h√≥a"], answer:2, tip:"‚úÖ C·ªông h∆∞·ªüng gi√∫p s·∫£n ph·∫©m ·ªïn ƒë·ªãnh, nƒÉng l∆∞·ª£ng t·ªèa l·ªõn."},
  {q:"C√¢u n√†o ƒë√∫ng v·ªõi thay ƒë·ªïi nƒÉng l∆∞·ª£ng t·ª± do th·ª±c t·∫ø?", options:["N·ªìng ƒë·ªô s·∫£n ph·∫©m th·∫•p ŒîG √¢m v√† l·ªõn","S·∫£n ph·∫©m cao ŒîG d∆∞∆°ng v√† l·ªõn","S·∫£n ph·∫©m th·∫•p ŒîG d∆∞∆°ng v√† l·ªõn","S·∫£n ph·∫©m cao ŒîG √¢m v√† l·ªõn","C√¢n b·∫±ng ŒîG = 0"], answer:0, tip:"‚úÖ ŒîG th·ª±c t·∫ø ph·ª• thu·ªôc n·ªìng ƒë·ªô s·∫£n ph·∫©m v√† ph·∫£n ·ª©ng t·ª± ph√°t."},
  {q:"Nh√≥m n√†o KH√îNG ph·∫£i nucleophile?", options:["Proton","Carbanion","Hydroxide","Acid carboxylic","Amine"], answer:0, tip:"‚úÖ Proton kh√¥ng ph·∫£i nucleophile."},
  {q:"Chu·ªói b√™n acid amin n√†o l√† nucleophile ·ªü pH 7?", options:["Pro","Phe","Asp","Leu","Cys"], answer:4, tip:"‚úÖ Cys c√≥ nh√≥m -SH, l√† nucleophile m·∫°nh."},
  {q:"C·∫∑p oxy h√≥a-kh·ª≠ n√†o tham gia oxy h√≥a sinh h·ªçc?", options:["Fe2+ / Fe3+","NADP+ / NAD+","FMN / FADH2","Succinate / Fumarate","Fe2+, Fe3+, Succinate / Fumarate"], answer:4, tip:"‚úÖ C√°c c·∫∑p tr√™n ƒë·ªÅu tham gia, nhi·ªÅu h∆°n 1 c·∫∑p ƒë∆∞·ª£c s·ª≠ d·ª•ng trong sinh h·ªçc."},
  {q:"H·ª£p ch·∫•t n√†o c√≥ ŒîG¬∞ √¢m nh·∫•t khi th·ªßy ph√¢n?", options:["Acetic anhydride","Glucose 6-phosphate","Glutamate","Glycerol 3-phosphate","Phosphoenolpyruvate"], answer:4, tip:"‚úÖ PEP c√≥ nƒÉng l∆∞·ª£ng cao, ŒîG¬∞ t·ªèa l·ªõn nh·∫•t."},
  {q:"ŒîG¬∞ c·ªßa ph·∫£n ·ª©ng A ‚Üí B l√† -40 kJ/mol, d∆∞·ªõi ƒëi·ªÅu ki·ªán chu·∫©n, ph·∫£n ·ª©ng:", options:["ƒêang c√¢n b·∫±ng","Kh√¥ng t·ª± nhi√™n","Ti·∫øn nhanh","T·ª± ph√°t A ‚Üí B","T·ª± ph√°t B ‚Üí A"], answer:3, tip:"‚úÖ ŒîG < 0, ph·∫£n ·ª©ng t·ª± ph√°t t·ª´ A ‚Üí B."},
  {q:"Nguy√™n t·ª≠ c√≥ ƒë·ªô √¢m ƒëi·ªán th·∫•p nh·∫•t?", options:["C","N","H","O","S"], answer:2, tip:"‚úÖ H c√≥ ƒë·ªô √¢m ƒëi·ªán th·∫•p nh·∫•t."},
  {q:"Carbon n√†o oxy h√≥a cao nh·∫•t trong ketohexose?", options:["C-1","C-2","C-3","C-5","C-6"], answer:4, tip:"‚úÖ C-6 alkyl, √≠t oxy h√≥a nh·∫•t, C-1 aldehyde cao nh·∫•t."},
  {q:"C√¢u n√†o ƒë√∫ng?", options:["Pyruvate kinase phosphoryl h√≥a PEP","Hexokinase x√∫c t√°c b∆∞·ªõc kh√¥ng ƒë·∫£o ng∆∞·ª£c","1 glucose ‚Üí 2 pyruvate","NADH t·∫°o trong glycolysis","T·∫•t c·∫£ ƒë·ªÅu ƒë√∫ng"], answer:4, tip:"‚úÖ T·∫•t c·∫£ c√°c c√¢u ƒë·ªÅu ƒë√∫ng, nh·ªõ c√°c b∆∞·ªõc quan tr·ªçng trong glycolysis."},
  {q:"T·∫°i sao kh·ª≠ NADH thu·∫≠n l·ª£i trong t·∫ø b√†o ch·∫•t?", options:["T√°i t·∫°o NAD+ cho glycolysis","Cho s·∫£n xu·∫•t lactate","L√™n men thay h√¥ h·∫•p","L√™n men thay glycolysis","Kh√¥ng ƒë√∫ng"], answer:0, tip:"‚úÖ Kh·ª≠ NADH t√°i t·∫°o NAD+ gi√∫p glycolysis ti·∫øp t·ª•c."},
  {q:"Glucose ƒë√°nh d·∫•u 14C t·∫°i C-2 chuy·ªÉn th√†nh pyruvate, carbon ƒë√°nh d·∫•u ·ªü?", options:["Ca ba","Carbonyl","Carboxyl","Methyl","Kh√¥ng c√≥"], answer:1, tip:"‚úÖ Carbonyl t·ª´ C-2 trong glycolysis s·∫Ω ·ªü glyceraldehyde-3-phosphate."},
  {q:"Enzyme x√∫c t√°c ph·∫£n ·ª©ng oxy h√≥a trong glycolysis?", options:["Hexokinase","Pyruvate kinase","Glyceraldehyde-3-phosphate dehydrogenase","Phosphoglycerate kinase + GAPDH","Hexokinase + Pyruvate kinase"], answer:2, tip:"‚úÖ GAPDH x√∫c t√°c oxy h√≥a G3P, t·∫°o NADH."},
  {q:"Fluoride ·ª©c ch·∫ø enolase, h·ª£p ch·∫•t t√≠ch t·ª•?", options:["Pyruvate","2-PG + PEP","F1,6BP","3-PG","Lactate"], answer:1, tip:"‚úÖ Enolase chuy·ªÉn 2-PG ‚Üí PEP, khi ·ª©c ch·∫ø 2-PG v√† PEP t√≠ch t·ª•."},
  {q:"S·∫£n ph·∫©m do glucose 6-phosphate isomerase x√∫c t√°c?", options:["Glucose 3-phosphate","Fructose 6-phosphate","Glucose","F1,6BP","Dihydroxyacetone phosphate"], answer:1, tip:"‚úÖ Glucose 6-P ‚Üí Fructose 6-P trong glycolysis."},
  {q:"Trong glycolysis, fructose 1,6-bisphosphate ph√¢n t√°ch th√†nh hai s·∫£n ph·∫©m 3-carbon. T√™n hai s·∫£n ph·∫©m l√†?", options:["Pyruvate v√† lactate","Glyceraldehyde 3-phosphate v√† dihydroxyacetone phosphate","1,3-bisphosphoglycerate v√† 3-phosphoglycerate","2-phosphoglycerate v√† phosphoenolpyruvate","Glucose 6-phosphate v√† fructose 6-phosphate"], answer:1, tip:"‚úÖ F1,6BP ‚Üí GAP + DHAP, b∆∞·ªõc t√°ch 3-carbon ch√≠nh."},
  {q:"Trong c∆° thi·∫øu oxy, lactate h√¨nh th√†nh t·ª´ glucose ƒë√°nh d·∫•u t·∫°i C-3 v√† C-4 s·∫Ω ƒë√°nh d·∫•u ·ªü?", options:["Carbon carbonyl","Carbon carboxyl","Carbon methyl","Carbon carbonyl v√† methyl","Carbon carboxyl v√† methyl"], answer:3, tip:"‚úÖ C-3, C-4 chuy·ªÉn th√†nh carbonyl v√† methyl c·ªßa lactate."},
  {q:"Enzyme 2,3-BPG mutase s·∫£n xu·∫•t 2,3-BPG trong h·ªìng c·∫ßu, amino acid quan tr·ªçng trong li√™n k·∫øt ch·∫•t n·ªÅn l√†?", options:["Asp","Glu","Lys","Leu","His"], answer:0, tip:"‚úÖ Asp tham gia gi·ªØ phosphate trong active site."},
  {q:"Galactosemia l√† l·ªói di truy·ªÅn li√™n quan ƒë·∫øn?", options:["Thi·∫øu galactokinase","Thi·∫øu glucose 1-phosphate","Thi·∫øu UDP-glucose:galactose 1-phosphate uridylyltransferase","Ti√™u th·ª• qu√° m·ª©c galactose","Kh√¥ng th·ªÉ chuy·ªÉn h√≥a lactose"], answer:2, tip:"‚úÖ L·ªói ph·ªï bi·∫øn nh·∫•t: thi·∫øu GALT, g√¢y galactosemia."},
  {q:"Khi 2 ph√¢n t·ª≠ ribulose 5-phosphate chuy·ªÉn th√†nh pyruvate, bao nhi√™u ATP v√† NADH ƒë∆∞·ª£c s·∫£n xu·∫•t?", options:["4 ATP v√† 2 NADH","5 ATP v√† 3 NADH","8 ATP v√† 5 NADH","10 ATP v√† 5 NADH","10 ATP v√† 6 NADH"], answer:4, tip:"‚úÖ Theo pentose phosphate pathway, 2 ribulose-5P ‚Üí pyruvate, nƒÉng l∆∞·ª£ng t·ªïng h·ª£p ~10 ATP, 6 NADH."},
  {q:"Trong glycolysis, c√°c b∆∞·ªõc kh√¥ng ƒë·∫£o ng∆∞·ª£c l√†?", options:["1,3,10","1,2,3","1,3,5,8","3,6,10","1,3,7"], answer:0, tip:"‚úÖ Hexokinase (1), PFK (3), pyruvate kinase (10) kh√¥ng ƒë·∫£o ng∆∞·ª£c."},
  {q:"C√¢u n√†o li√™n quan ƒë·∫øn glycolysis?", options:["S·ª≠ d·ª•ng glucose t·∫°o 2 pyruvate","D√πng 2 ATP t·∫°o 4 ATP, net 2 ATP","T·∫°o 2 NADH","X·∫£y ra trong t·∫ø ch·∫•t","T·∫•t c·∫£ c√°c c√¢u tr√™n"], answer:4, tip:"‚úÖ T·∫•t c·∫£ ƒë·ªÅu ƒë√∫ng, t·ªïng qu√°t v·ªÅ glycolysis."}
];

let unanswered = [...questions];
let answeredQuestions = [];
let currentQuestion = null;
let score = 0;
let streak = 0;

const questionEl = document.getElementById("question");
const optionsEl = document.getElementById("options");
const tipEl = document.getElementById("tip");
const nextBtn = document.getElementById("next");
const searchInput = document.getElementById("search");
const searchResults = document.getElementById("searchResults");
const darkToggle = document.getElementById("darkToggle");
const toggleAnsweredBtn = document.getElementById("toggleAnswered");
const answeredListEl = document.getElementById("answeredList");
const scoreValueEl = document.getElementById("scoreValue");
const streakValueEl = document.getElementById("streakValue");
const completionValueEl = document.getElementById("completionValue");
const progressBar = document.getElementById("progressBar");

function updateScore(correct){
  if(correct) { 
    score+=10; 
    streak++; 
  } else { 
    streak=0; 
  }
  scoreValueEl.textContent = score;
  streakValueEl.textContent = streak;
}

function loadQuestion(q){
  currentQuestion = q;
  questionEl.textContent = q.q;
  optionsEl.innerHTML = "";
  tipEl.textContent = "";
  tipEl.style.display = "none";
  
  q.options.forEach((opt,i)=>{
    const btn = document.createElement("button");
    btn.textContent = opt;
    btn.addEventListener("click", ()=>{
      const correct = (i===q.answer);
      btn.classList.add(correct ? "correct" : "wrong");
      tipEl.innerHTML = q.tip;
      tipEl.style.display = "block";
      updateScore(correct);
      
      if(!answeredQuestions.includes(q)){
        answeredQuestions.push(q);
        updateAnsweredBlock();
      }
      unanswered = unanswered.filter(ques => ques!==q);
      optionsEl.querySelectorAll("button").forEach(b=>b.disabled=true);
      updateProgress();
    });
    optionsEl.appendChild(btn);
  });
}

function updateAnsweredBlock(){
  answeredListEl.innerHTML="";
  answeredQuestions.forEach(q=>{
    const li = document.createElement("li");
    li.textContent=q.q;
    answeredListEl.appendChild(li);
  });
}

function randomQuestion(){
  if(unanswered.length===0){
    questionEl.innerHTML="<div class='completion-message'>üéâ B·∫°n ƒë√£ ho√†n th√†nh t·∫•t c·∫£ c√¢u h·ªèi!</div>";
    optionsEl.innerHTML="";
    tipEl.textContent="";
    tipEl.style.display="none";
    nextBtn.style.display="none";
    return;
  }
  const idx = Math.floor(Math.random()*unanswered.length);
  loadQuestion(unanswered[idx]);
}

function updateProgress(){
  const pct = ((answeredQuestions.length)/questions.length)*100;
  progressBar.style.width = pct+"%";
  completionValueEl.textContent = Math.round(pct)+"%";
}

searchInput.addEventListener("input", ()=>{
  const val = searchInput.value.toLowerCase();
  searchResults.innerHTML="";
  if(val.length===0) return;
  
  questions.forEach(q=>{
    if(q.q.toLowerCase().includes(val)){
      const div = document.createElement("div");
      div.innerHTML = q.q.replace(new RegExp(val,'gi'), m=>`<span style="background:${document.body.classList.contains('dark')?'#805ad5':'#ffd700'}; padding:2px 4px; border-radius:3px;">${m}</span>`);
      div.addEventListener("click", ()=>{
        loadQuestion(q);
        searchResults.innerHTML="";
        searchInput.value="";
      });
      searchResults.appendChild(div);
    }
  });
});

darkToggle.addEventListener("click", ()=>{ 
  document.body.classList.toggle("dark");
  darkToggle.textContent = document.body.classList.contains("dark") ? "‚òÄÔ∏è" : "üåô";
});

nextBtn.addEventListener("click", randomQuestion);

toggleAnsweredBtn.addEventListener("click", ()=>{
  answeredListEl.style.display = answeredListEl.style.display==="none"?"block":"none";
});

randomQuestion();
updateProgress();
</script>
</body>
</html>